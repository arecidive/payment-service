# Payment Service

Сервис для управления заявками на выплату денежных средств.

## Стек технологий

- **Python 3.10+**
- **Django 5.0**
- **Django REST Framework**
- **Celery**
- **Redis**
- **PostgreSQL 15**

## Запуск проекта

1. Клонируйте репозиторий.
```bash
git clone git@github.com:arecidive/payment-service.git
cd payment-service
```

2. Создайте файл `.env` в корневой папке на основе `.env.example`.
```bash
cp .env.example .env
```
Затем отредактируйте `.env` и заполните своими значениями.


3. Запустите проект.
```bash
make up
```
После чего запустится само приложение Django, миграции применятся автоматически, а в отдельном 
контейнере запустится worker Celery. 

Проект будет доступен по адресу: http://localhost/. Доступ к технической административной панели
предоставляется по адресу: http://localhost/admin/. Доступ к Swagger UI осуществляется по адресу:
http://localhost/api/docs/.

## Другие команды

1. Создания администратора.
```bash
make createsuperuser USERNAME=<username> PASSWORD=<password>
```
где `<username>` - имя пользователя, `<password>` - пароль пользователя.

2. Запуск тестов.
```bash
make test
```

3. Запуск линтера.
```bash
make linter
```

## Описание деплоя в production-среду

Для деплоя проекта в production-среду потребуется несколько доработок. Веб-сервер Django должен 
запускаться через Gunicorn с несколькими воркерами, перед которым необходимо установить Nginx в 
качестве reverse proxy. Также потребуется настроить CI/CD pipeline через GitHub Actions, который 
будет деплоить обновленный образ на сервер. 

По моему мнению, на текущий момент проект почти готов к старту в production-среде. Осталось 
написать конфигурацию nginx для запуска backend-части на определенном домене, настроить Gunicorn 
для запуска приложения, а также CI/CD для того, чтобы запускать конфигурацию docker-compose на 
сервере. Кроме того, можно донастроить саму конфигурацию docker-compose, добавив настройки Swarm 
для того же самого бесшовного деплоя, но на текущий момент данной минимальной конфигурации хватит 
для запуска на production-среде.
